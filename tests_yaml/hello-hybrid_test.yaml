name: "Positive: Hello Hybrid Workflow"
description: "Проверяет, что hello-workflow успешно выполняется"
tags: ["positive", "smoke"]
timeout: "2m"
namespace: "argo"

# Указываем путь до процесса, который будет тестить
workflowFile: "../hello-hybrid.yaml"

# Прописываем условия, по которым будем считать, что сценарий исполнился успешно
expect:
  workflowPhase: "Succeeded"
  nodes:
    - selector:
        displayName: "step1"
      phase: "Succeeded"
      logs:
        contains:
          - "Hello from Windows Container!"
    - selector:
        displayName: "step2"
      phase: "Succeeded"
      logs:
        contains:
          - "Hello from Linux Container!"

